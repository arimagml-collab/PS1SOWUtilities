# AGENT.md

このリポジトリ（`PS1SOWUtilities`）を変更するエージェント向けの運用ルールです。

## 目的
- PowerShell ベースのユーティリティを安全かつ一貫性を保ってメンテナンスする。
- 既存機能を壊さず、レビューしやすい差分を作る。

## 作業方針
1. 変更前に `README.md` と関連ドキュメント（`docs/` 配下）を確認する。
2. 変更は要求範囲に限定し、無関係な整形・リファクタリングを混在させない。
3. PowerShell モジュールは責務を維持し、`modules/Core` と `modules/Features` の役割をまたいだ変更は最小限にする。
4. 文言追加・変更時は必要に応じて `locales/ja.json` / `locales/en.json` を同期する。
5. 変更後は少なくとも影響箇所の動作確認・静的確認を実施し、結果を記録する。

## コーディング規約
- 既存の命名規則・インデント・コメントスタイルを優先する。
- 変数名・関数名は意図が明確になるようにする。
- ログ出力は `modules/Core/Logging.psm1` の方針に合わせる。

## ドキュメント更新
- ユーザー操作や設定値に影響がある場合は `README.md` や `docs/` を更新する。
- 仕様判断が必要な場合は、決定理由を簡潔に記録する。

## コミット方針
- 1コミット1目的を原則とする。
- コミットメッセージは「何を・なぜ」を短く明確に記載する。

## 重要（必須）
- **PowerShell 系ファイル（`*.ps1` / `*.psm1` / `*.psd1`）は最終的に必ず UTF-8 with BOM（BOMあり）で保存すること。**
- 新規作成・既存編集のいずれの場合も同様に適用する。

